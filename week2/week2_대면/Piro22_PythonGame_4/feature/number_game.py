import random
import time

def number_game(current_player, flag, is_real_player=False,):
    """
    1~10 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ë§ì¶”ëŠ” ê²Œì„
    Args:
        current_player (Player): í˜„ì¬ í”Œë ˆì´ì–´
        is_real_player (bool): ì‹¤ì œ í”Œë ˆì´ì–´ì¸ì§€ ì—¬ë¶€
    Returns:
        list: ìˆ ì„ ë§ˆì…”ì•¼ í•˜ëŠ” í”Œë ˆì´ì–´ ë¦¬ìŠ¤íŠ¸
    """
    
    if flag==0:
        print('''
    â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
    â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
    â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  
    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  
    â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
    â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•     â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•
        ''')
        time.sleep(0.5)
        print("\n===================<ğŸ•¹ï¸  ìˆ«ì ë§ì¶”ê¸° ê²Œì„>===================")
        print("1ë¶€í„° 10 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ë§ì¶°ë³´ì„¸ìš”!")
        print("ê¸°íšŒëŠ” 5ë²ˆ ìˆìŠµë‹ˆë‹¤.")
        print("ê¸°íšŒë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ë©´ 1ì”ì„ ë§ˆì…”ì•¼ í•©ë‹ˆë‹¤!")
        print("========================================================")

    target = random.randint(1, 10)
    attempts = 0
    max_attempts = 5
    previous_guesses = []
    
    while attempts < max_attempts:
        if not is_real_player:  # AI í”Œë ˆì´ì–´
            time.sleep(1)
            if not previous_guesses:
                guess = random.randint(1, 10)
            else:
                min_val = max([g for g, r in previous_guesses if r == "Up"] + [1])
                max_val = min([g for g, r in previous_guesses if r == "Down"] + [10])
                guess = random.randint(min_val, max_val)
            print(f"\n{attempts + 1}ë²ˆì§¸ ì‹œë„ - ", end="")
            time.sleep(0.5)
            print(f"{guess}!")
        else:  # ì‹¤ì œ í”Œë ˆì´ì–´
            try:
                guess = int(input(f"\n{attempts + 1}ë²ˆì§¸ ì‹œë„ - ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”: "))
                if not 1 <= guess <= 10:
                    print("1ë¶€í„° 10 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")
                    continue
            except ValueError:
                print("ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")
                continue
        
        attempts += 1
        
        if guess == target:
            print(f"\nğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! {attempts}ë²ˆ ë§Œì— ë§ì¶”ì…¨ë„¤ìš”!")
            print(f"ğŸŠ {current_player.name}ë‹˜ì´ ì„±ê³µì ìœ¼ë¡œ ê²Œì„ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!")
            return []  # ì„±ê³µ: ì•„ë¬´ë„ ë§ˆì‹œì§€ ì•ŠìŒ
        
        elif guess < target:
            result = "Up"
            print("â¬†ï¸ Up! ë” í° ìˆ«ìì…ë‹ˆë‹¤.")
        else:
            result = "Down"
            print("â¬‡ï¸ Down! ë” ì‘ì€ ìˆ«ìì…ë‹ˆë‹¤.")
            
        if not is_real_player:
            previous_guesses.append((guess, result))
            
        if attempts == max_attempts:
            print(f"\nâŒ ê¸°íšŒë¥¼ ëª¨ë‘ ì†Œì§„í–ˆìŠµë‹ˆë‹¤. ì •ë‹µì€ {target}ì˜€ìŠµë‹ˆë‹¤!")
            print(f"ğŸº ë²Œì¹™: {current_player.name}(ì´)ê°€ ìˆ  1ì”ì„ ë§ˆì…”ì•¼ í•©ë‹ˆë‹¤!")
            return [current_player]  # ì‹¤íŒ¨: í˜„ì¬ í”Œë ˆì´ì–´ë§Œ ë§ˆì‹¬
    
    return []  # ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬
